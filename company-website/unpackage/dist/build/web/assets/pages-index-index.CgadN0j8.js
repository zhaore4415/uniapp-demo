import{r as a,o as l,c as e,w as s,a as t,i as u,b as d,d as n,e as o,t as c,f as r,g as f,h as i,F as _,j as v}from"./index-CUWaF7wE.js";const p=((a,l)=>{const e=a.__vccOpts||a;for(const[s,t]of l)e[s]=t;return e})({__name:"index",setup(p){const m=a(null),b=a([]),h=a(!0),y=a("");return l((()=>{t({url:"http://192.168.1.10:5000/api/company/info",method:"GET",success:a=>{200===a.statusCode?m.value=a.data:y.value=`请求失败：${a.statusCode}`},fail:a=>{console.error("请求公司信息失败",a),y.value="网络错误或跨域问题"}}),t({url:"http://192.168.1.10:5000/api/company/products",method:"GET",success:a=>{200===a.statusCode?b.value=a.data:y.value=`请求失败：${a.statusCode}`},fail:a=>{console.error("请求产品失败",a),y.value="网络错误或跨域问题"}}),setTimeout((()=>{h.value=!1}),500)})),(a,l)=>{const t=v,p=u;return d(),e(p,{class:"container"},{default:s((()=>[n(p,{class:"section"},{default:s((()=>[n(t,{class:"title"},{default:s((()=>[o("公司信息")])),_:1}),m.value?(d(),e(p,{key:0,class:"info-item"},{default:s((()=>[n(t,{class:"label"},{default:s((()=>[o("名称：")])),_:1}),n(t,null,{default:s((()=>[o(c(m.value.name),1)])),_:1})])),_:1})):r("",!0),n(p,{class:"info-item"},{default:s((()=>[n(t,{class:"label"},{default:s((()=>[o("地址：")])),_:1}),n(t,null,{default:s((()=>{var a;return[o(c(null==(a=m.value)?void 0:a.address),1)]})),_:1})])),_:1}),n(p,{class:"info-item"},{default:s((()=>[n(t,{class:"label"},{default:s((()=>[o("电话：")])),_:1}),n(t,null,{default:s((()=>{var a;return[o(c(null==(a=m.value)?void 0:a.phone),1)]})),_:1})])),_:1}),n(p,{class:"info-item"},{default:s((()=>[n(t,{class:"label"},{default:s((()=>[o("官网：")])),_:1}),n(t,null,{default:s((()=>{var a;return[o(c(null==(a=m.value)?void 0:a.website),1)]})),_:1})])),_:1})])),_:1}),n(p,{class:"section"},{default:s((()=>[n(t,{class:"title"},{default:s((()=>[o("产品列表")])),_:1}),(d(!0),f(_,null,i(b.value,(a=>(d(),e(p,{class:"product-item",key:a.id},{default:s((()=>[n(t,null,{default:s((()=>[o(c(a.name),1)])),_:2},1024),n(t,{class:"price"},{default:s((()=>[o("¥"+c(a.price),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),h.value?(d(),e(p,{key:0,class:"loading"},{default:s((()=>[n(t,null,{default:s((()=>[o("加载中...")])),_:1})])),_:1})):r("",!0),y.value?(d(),e(p,{key:1,class:"error"},{default:s((()=>[n(t,null,{default:s((()=>[o("加载失败："+c(y.value),1)])),_:1})])),_:1})):r("",!0)])),_:1})}}},[["__scopeId","data-v-8dde6289"]]);export{p as default};
